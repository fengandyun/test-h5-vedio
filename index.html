<!DOCTYPE html>
<html>

<head>
    <title>test2</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8;">
    <meta http-equiv="Content-Security-Policy" content="sandbox allow-forms allow-scripts;">
    <script>
        window.pageNameStr = '我是首页';
        (function (para) {
            var p = para.sdk_url, n = para.name, w = window, d = document, s = 'script', x = null, y = null;
            if (typeof (w['sensorsDataAnalytic201505']) !== 'undefined') {
                return false;
            }
            w['sensorsDataAnalytic201505'] = n;
            w[n] = w[n] || function (a) { return function () { (w[n]._q = w[n]._q || []).push([a, arguments]); } };
            var ifs = ['track', 'quick', 'register', 'registerPage', 'registerOnce', 'trackSignup', 'trackAbtest', 'setProfile', 'setOnceProfile', 'appendProfile', 'incrementProfile', 'deleteProfile', 'unsetProfile', 'identify', 'login', 'logout', 'trackLink', 'clearAllRegister', 'getAppStatus', 'use'];
            for (var i = 0; i < ifs.length; i++) {
                // call 方法传参数 + 闭包 => 向数据发送的队列 _q 中 push 了需要发送的数据 包括 api 名如：track 和 track 方法的参数
                w[n][ifs[i]] = w[n].call(null, ifs[i]);
            }
            if (!w[n]._t) {
                x = d.createElement(s), y = d.getElementsByTagName(s)[0];
                x.async = 1;
                x.src = p;
                x.setAttribute('charset', 'UTF-8');
                w[n].para = para;
                y.parentNode.insertBefore(x, y);
            }
        })({
            // sdk_url: './sensorsdata.full.js',
            sdk_url: 'https://cdn.jsdelivr.net/npm/sa-sdk-javascript@1.16.3/sensorsdata.min.js',
            name: 'sa',
            max_string_length: 1500,
            is_track_single_page: function () {
                return { pageName2: pageNameStr }
            },
            source_channel: ['myutm', 'share_to'],

            app_js_bridge: true,
            preset_properties: {
                url: true,
                title: true,
                latest_wx_ad_click_id: true
            },
            heatmap: {
                clickmap: 'default',
                scroll_notice_map: 'not_collect',
                element_selector: 'not_use_id',
                collect_input: function () {
                    return true;
                },
                custom_property: function (element_target) {
                    //比如您需要给有 data=test 属性的标签的点击事件增加自定义属性 name:'aa' ，则代码如下：
                    if (true) {
                        return {
                            $element_content: ''
                        }
                    }
                },
            }
        });
        sa.quick('autoTrack');
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.js"></script>

    <style>
        li {
            background-color: coral;
            width: 200px;
        }
    </style>
</head>
<!-- <script src="chrome-extension://fhdghhaapkdplmcbkajnjkckiamiooin/js/douban.js"> -->
</script>

<body>
    <p>测试11</p>
    <a href='https://jssdkdata.debugbox.sensorsdata.cn/t/c'>渠道短链接访问</a>
    <a href="https://www.baidu.com">
        <img src="//www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" />
    </a>
    <div data-sensors-click>我是 div ，我能可视化吗</div>
    <input id="testinputvalue" onblur="inputcollect(this)" value="大侠9" />
    <!-- <a href='javascript:chrome-extension://fhdghhaapkdplmcbkajnjkckiamiooin/image/48.png'></a>
	<img src='chrome-extension://fhdghhaapkdplmcbkajnjkckiamiooin/image/48.png' /> -->
    <a sensors-click>去index.html</a>
    <div id='liList'>
        <ul>
            <li data-sensors-click>测试clone</li>
            <li>测试clone</li>
            <li>测试clone</li>
        </ul>
    </div>
    <div id="456">
        <div id="123">
            <input id="3456789" value="input的内容" name='我的input' placeholder="测试点击input内容采集情况" />
        </div>
        <input placeholder="测试点击input内容采集情况" />
    </div>
    <input placeholder="测试点击input内容采集情况" />
    <textarea name="" value='我是样式textarea内容' id="" cols="30" rows="10">我是直接textarea内容</textarea>
    <br>
    <div id="testgz" style="display:inline-block;height:200px;width:200px;background-color:aquamarine;">
        <a href="https://fengandyun.github.io/test-sdk/" target="">去打开 github 上的网页</a>
    </div>

    <br>
    <a onclick="testClick(this)" data='test'> 测试点击点击点击 </a>
    <span hotrep data-sensors-click> 点击按钮触发 = 测试属性触发点击事件</span>
    <div id="123" data='test' style="display:inline-block;height:200px;width:200px;background-color:blueviolet;"> 点击按钮触发
    </div>
    <div id="testdisplay" name='testdisplay' data-sensors-click
        style="text-align: center; display:inline-block;width:320px;height:320px;background-color:blue">
        <!-- <div onclick="divclick(this);" style="display:inline-block;width:120px;height:120px;background-color:red">我是内部div,触发点击事件</div> -->
        <div style="text-align: center;display:inline-block;width:220px;height:220px;background-color:green">
            我是内部div1,触发点击事件
            <li style="display:inline-block;width:120px;height:120px;background-color:red">我是内部div2,触发点击事件</li>
        </div>
    </div>
    <br>
    <button onclick="startPlayfuc()">rrweb 开始播放</button>
    <br>
    <div style="color: red;"> 以下是视频播放区域</div>
    <script>
        var pp = 'ttttt'
        function testClick(ele) {
            // console.log('阻止冒泡');
            jsw.track('test');
        }
        function inputcollect(ele) {
            sa.track('keywordcollect', { keywords: ele.value });
            // console.log(ele);
        }
    </script>
    <script>
        let events = [];
        rrweb.record({
            emit(event) {
                // 将 event 存入 events 数组中
                events.push(event);
            },
        });

        // save 函数用于将 events 发送至后端存入，并重置 events 数组
        // function save() {
        //     const body = JSON.stringify({ events });
        //     events = [];
        //     fetch('http://YOUR_BACKEND_API', {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json',
        //         },
        //         body,
        //     });
        // }
        // // 每 10 秒调用一次 save 方法，避免请求过多
        // setInterval(save, 10 * 1000);

        function startPlayfuc() {
            if (!window.replayer) {
                window.replayer = new rrweb.Replayer(events, document.body);
            }
            window.replayer.play();
        }
    </script>

</body>

</html>